<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador Aviator — Premium Pro</title>
<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #0b0f1e, #070a12);
  color: #eaf3ff;
  font-family: "Segoe UI", Roboto, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  overflow-x: hidden;
}

/* --- CABEÇALHO --- */
header {
  text-align: center;
  margin-bottom: 30px;
}
.logo {
  font-size: 40px;
  background: linear-gradient(135deg, #00ffcc, #27e1ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 15px #00ffcc99;
  animation: pulse 2s infinite;
}
@keyframes pulse {
  0%, 100% { text-shadow: 0 0 10px #00ffcc88; }
  50% { text-shadow: 0 0 25px #27e1ffcc; }
}
h1 {
  font-size: 28px;
  margin: 0;
  color: #eaf3ff;
  text-shadow: 0 0 10px #00ffcc55;
}

/* --- CONTAINER --- */
.container {
  width: 90%;
  max-width: 800px;
  background: #12172b;
  border: 1px solid #2a3045;
  border-radius: 16px;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);
  padding: 25px;
}

/* --- LINHA DE BOTÕES --- */
.controls {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
}
input {
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #27e1ff;
  background: #0c1020;
  color: #fff;
  font-size: 16px;
  outline: none;
  width: 200px;
  text-align: center;
}
input:focus {
  border-color: #00ffcc;
  box-shadow: 0 0 12px #00ffcc66;
}

/* --- BOTÕES --- */
button {
  border: none !important;
  border-radius: 10px !important;
  padding: 12px 20px !important;
  font-weight: bold !important;
  font-size: 15px !important;
  cursor: pointer !important;
  transition: 0.2s ease-in-out;
  color: white !important;
  text-shadow: 0 0 5px rgba(0,0,0,0.4);
}
button:hover { transform: scale(1.07); }

#btnSim {
  background: linear-gradient(135deg, #00c6ff, #0072ff) !important;
  box-shadow: 0 0 12px #00c6ff88 !important;
}
#btnAuto {
  background: linear-gradient(135deg, #00ff99, #009966) !important;
  box-shadow: 0 0 12px #00ff9966 !important;
}
#btnClear {
  background: linear-gradient(135deg, #ffcc33, #ff8800) !important;
  box-shadow: 0 0 12px #ffcc3399 !important;
}

/* --- RESULTADO --- */
#resultBox {
  background: #0d1222;
  border-radius: 10px;
  padding: 15px;
  border: 1px dashed #2a3045;
  text-align: center;
  display: none;
  color: #fff;
  margin-top: 15px;
}
#resTexto {
  font-weight: bold;
  font-size: 18px;
}

/* --- GRÁFICO --- */
canvas {
  background: #111522;
  border: 1px solid #2a3045;
  border-radius: 10px;
  display: block;
  margin: 20px auto;
  width: 100%;
  height: 200px;
}

/* --- ESTATÍSTICAS --- */
.stats {
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
  margin-top: 15px;
}
.stat {
  background: #0f1322;
  border-radius: 10px;
  padding: 12px;
  width: 22%;
  text-align: center;
}
.stat b { display: block; font-size: 18px; margin-top: 5px; }
</style>
</head>

<body>
  <header>
    <div class="logo">✈</div>
    <h1>Simulador Aviator — Premium Pro</h1>
  </header>

  <div class="container">
    <div class="controls">
      <input id="entrada" type="number" placeholder="Ex: 7 (opcional)">
      <button id="btnSim">Simular</button>
      <button id="btnAuto">Auto-Simular</button>
      <button id="btnClear">Limpar</button>
    </div>

    <div id="resultBox">
      <div id="resTexto">Resultado...</div>
    </div>

    <canvas id="grafico" width="600" height="240"></canvas>

    <div class="stats">
      <div class="stat"><span>Total</span><b id="sTotal">0</b></div>
      <div class="stat"><span>Favoráveis</span><b id="sOk">0</b></div>
      <div class="stat"><span>Desfav.</span><b id="sBad">0</b></div>
      <div class="stat"><span>Taxa</span><b id="sTaxa">0%</b></div>
    </div>
  </div>

<script>
(() => {
  const MAX = 12;
  const storageKey = "aviator_hist_v2";
  const entrada = document.getElementById('entrada');
  const btnSim = document.getElementById('btnSim');
  const btnAuto = document.getElementById('btnAuto');
  const btnClear = document.getElementById('btnClear');
  const resultBox = document.getElementById('resultBox');
  const resTexto = document.getElementById('resTexto');
  const sTotal = document.getElementById('sTotal');
  const sOk = document.getElementById('sOk');
  const sBad = document.getElementById('sBad');
  const sTaxa = document.getElementById('sTaxa');
  const canvas = document.getElementById('grafico');
  const ctx = canvas.getContext('2d');
  let auto = null;

  function randBetween(min, max) {
    return Math.random() * (max - min) + min;
  }

  function gerarMultiplicadorRealista() {
    const r = Math.random();
    if (r < 0.60) return Number(randBetween(1.00, 2.50).toFixed(2));
    if (r < 0.85) return Number(randBetween(2.50, 5.00).toFixed(2));
    if (r < 0.95) return Number(randBetween(5.00, 10.00).toFixed(2));
    if (r < 0.99) return Number(randBetween(10.00, 20.00).toFixed(2));
    return Number(randBetween(20.00, 100.00).toFixed(2));
  }

  function load() {
    try {
      const raw = localStorage.getItem(storageKey);
      return raw ? JSON.parse(raw) : [];
    } catch {
      return [];
    }
  }

  function save(arr) {
    localStorage.setItem(storageKey, JSON.stringify(arr));
  }

  let hist = load().slice(-MAX);

  function desenharGrafico() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    const data = hist.map(h => h.multi);
    if (!data.length) return;
    const max = Math.max(10, ...data);
    const pad = 20;
    ctx.strokeStyle = "#00ffcc";
    ctx.beginPath();
    data.forEach((v, i) => {
      const x = pad + (i / (data.length - 1)) * (canvas.width - pad * 2);
      const y = canvas.height - ((v / max) * (canvas.height - pad * 2)) - pad;
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    });
    ctx.stroke();
  }

  function simular() {
    const multi = gerarMultiplicadorRealista();
    const favoravel = multi >= 2 ? Math.random() > .35 : Math.random() > .55;
    const registro = { t: new Date().toLocaleTimeString(), multi, ok: favoravel };
    hist.push(registro);
    if (hist.length > MAX) hist = hist.slice(-MAX);
    save(hist);
    desenharGrafico();
    const texto = favoravel ? `✅ Favorável — x${multi}` : `❌ Desfavorável — x${multi}`;
    resTexto.textContent = texto;
    resultBox.style.display = 'block';
    renderStats();
  }

  function renderStats() {
    const total = hist.length;
    const oks = hist.filter(h => h.ok).length;
    const bads = total - oks;
    sTotal.textContent = total;
    sOk.textContent = oks;
    sBad.textContent = bads;
    sTaxa.textContent = total ? Math.round((oks / total) * 100) + '%' : '0%';
  }

  function clearAll() {
    hist = [];
    save(hist);
    desenharGrafico();
    resultBox.style.display = 'none';
    renderStats();
  }

  btnSim.addEventListener('click', simular);
  btnAuto.addEventListener('click', () => {
    if (auto) {
      clearInterval(auto);
      auto = null;
      btnAuto.textContent = "Auto-Simular";
    } else {
      simular();
      auto = setInterval(simular, 1500);
      btnAuto.textContent = "Parar Auto";
    }
  });
  btnClear.addEventListener('click', clearAll);

  renderStats();
  desenharGrafico();
})();
</script>
</body>
</html>
